@model TaskTrackingApp.Models.ViewModels.DetailsDeveloper
@{
    ViewBag.Title = "Details";
    
}

@functions{
    public string getStatus(int status)
    {
        string CurrentStatus = "Open";

        if (status == 1)
        {
            CurrentStatus = "In progress";
        }
        else if (status == 2)
        {
            CurrentStatus = "Resolved";
        }
        else if (status == 3)
        {
            CurrentStatus = "Reopened";
        }
        else if (status == 4)
        {
            CurrentStatus = "Closed";
        }

        return CurrentStatus;

    }
    public string getPriority(int priority)
    {
        string CurrentPriority = "Trivial";
        if (priority == 1)
        {
            CurrentPriority = "Minor";
        }
        else if (priority == 2)
        {
            CurrentPriority = "Major";
        }
        else if (priority == 3)
        {
            CurrentPriority = "Critical";
        }
        else if (priority == 4)
        {
            CurrentPriority = "Blocker";
        }
        return CurrentPriority;
    }
}
<h2>Details of a developer</h2>
<p>@Model.selectedDeveloper.DeveloperFirstName @Model.selectedDeveloper.DeveloperLastName</p>
<p>Position: @Model.selectedDeveloper.DeveloperPosition</p>
<div>
    <p>List of skills developer has:</p>
    <div style="border:1px solid grey;background-color:gainsboro;">
@foreach(var skill in Model.skillsDeveloperHas)
            {
                <a href="/Skill/Details/@skill.SkillID">@skill.SkillName</a><a href="/Developer/Remove/@Model.selectedDeveloper.DevID?SkillID=@skill.SkillID">[x]</a>
            }
    </div>
    <div>
        <p>List of skills developer does not have:</p>
        <form method="post" action="/Developer/Add/@Model.selectedDeveloper.DevID">
            <select name="SkillID">
                @foreach (var skill in Model.skillsDeveloperDoesNotHave)
                {
                    <option value="@skill.SkillID">@skill.SkillName</option>
                }

            </select>
            <input type="submit" value="Add Skill" />
        </form>
    </div>
</div>
<table>
    <thead>
        <tr>
            <th>order</th>
            <th>Task description</th>
            <th>Priority</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @{
            int i = 0;
            foreach (var task in Model.assignedTasks)
            {
                <tr>
                    <td>@(i+1)</td>
                    <td>@task.AssignmentDesc</td>
                    <td>@getPriority((int)task.Priority)</td>
                    <td>@getStatus((int)task.Status)</td>
                </tr>

            }
        }
        

    </tbody>
</table>

